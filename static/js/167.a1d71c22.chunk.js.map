{"version":3,"file":"static/js/167.a1d71c22.chunk.js","mappings":"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","sources":["services/browserTranslationService.js"],"sourcesContent":["/**\n * Browser Translation Service\n * \n * A lightweight client-side translation system for the LML Mailer app.\n * This implementation uses template-based translation combined with dictionary\n * lookup to provide reasonable translations without external API dependencies.\n */\n\n// In-memory cache for translations to reduce computational load\nconst translationCache = new Map();\n\n/**\n * Calculate a hash for caching based on text content\n */\nconst hashText = (text) => {\n  let hash = 0;\n  for (let i = 0; i < text.length; i++) {\n    const char = text.charCodeAt(i);\n    hash = ((hash << 5) - hash) + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash.toString(16);\n};\n\n/**\n * Get cached translation if available\n */\nexport const getCachedTranslation = (text, sourceLang, targetLang) => {\n  const key = `${sourceLang}_${targetLang}_${hashText(text)}`;\n  return translationCache.get(key);\n};\n\n/**\n * Store translation in cache\n */\nexport const setCachedTranslation = (text, sourceLang, targetLang, translatedText) => {\n  const key = `${sourceLang}_${targetLang}_${hashText(text)}`;\n  translationCache.set(key, translatedText);\n  console.log(`Translation cache size: ${translationCache.size} entries`);\n};\n\n/**\n * Dictionary of translations for common phrases in music venue contexts\n */\nconst translationDictionaries = {\n  'ja': { // Japanese\n    'Melbourne': 'メルボルン',\n    'Gig Guide': 'ライブガイド',\n    'Live Music': 'ライブ音楽',\n    'Gigs Near You': 'あなたの近くのライブ',\n    'How to Use': '使い方',\n    'venue': '会場',\n    'concert': 'コンサート',\n    'music': '音楽',\n    'band': 'バンド',\n    'performance': 'パフォーマンス',\n    'rock': 'ロック',\n    'jazz': 'ジャズ',\n    'electronic': 'エレクトロニック',\n    'blues': 'ブルース',\n    'folk': 'フォーク',\n    'pop': 'ポップ',\n    'Supporting local music': '地元の音楽をサポート',\n    'This information was sent to': 'この情報は次の宛先に送信されました',\n    'away': '離れた場所',\n    'Free': '無料',\n    'Check venue': '会場を確認',\n    'View on map': '地図で見る',\n    'QR codes link to venue locations': 'QRコードは会場の場所にリンクしています',\n    'Share this guide with friends': 'このガイドを友達と共有しましょう',\n    'View on mobile to scan QR codes': 'QRコードをスキャンするにはモバイルで表示してください'\n  },\n  'zh-CN': { // Simplified Chinese\n    'Melbourne': '墨尔本',\n    'Gig Guide': '演出指南',\n    'Live Music': '现场音乐',\n    'Gigs Near You': '您附近的演出',\n    'How to Use': '如何使用',\n    'venue': '场地',\n    'concert': '音乐会',\n    'music': '音乐',\n    'band': '乐队',\n    'performance': '表演',\n    'rock': '摇滚',\n    'jazz': '爵士',\n    'electronic': '电子',\n    'blues': '蓝调',\n    'folk': '民谣',\n    'pop': '流行',\n    'Supporting local music': '支持本地音乐',\n    'This information was sent to': '此信息已发送至',\n    'away': '距离',\n    'Free': '免费',\n    'Check venue': '查看场地',\n    'View on map': '在地图上查看',\n    'QR codes link to venue locations': 'QR码链接到场地位置',\n    'Share this guide with friends': '与朋友分享此指南',\n    'View on mobile to scan QR codes': '在移动设备上查看以扫描QR码'\n  },\n  'zh-TW': { // Traditional Chinese\n    'Melbourne': '墨爾本',\n    'Gig Guide': '表演指南',\n    'Live Music': '現場音樂',\n    'Gigs Near You': '您附近的表演',\n    'How to Use': '如何使用',\n    'venue': '場地',\n    'concert': '音樂會',\n    'music': '音樂',\n    'band': '樂隊',\n    'performance': '表演',\n    'rock': '搖滾',\n    'jazz': '爵士',\n    'electronic': '電子',\n    'blues': '藍調',\n    'folk': '民謠',\n    'pop': '流行',\n    'Supporting local music': '支持本地音樂',\n    'This information was sent to': '此信息已發送至',\n    'away': '距離',\n    'Free': '免費',\n    'Check venue': '查看場地',\n    'View on map': '在地圖上查看',\n    'QR codes link to venue locations': 'QR碼鏈接到場地位置',\n    'Share this guide with friends': '與朋友分享此指南',\n    'View on mobile to scan QR codes': '在移動設備上查看以掃描QR碼'\n  },\n  'ar': { // Arabic\n    'Melbourne': 'ملبورن',\n    'Gig Guide': 'دليل الحفلات',\n    'Live Music': 'موسيقى حية',\n    'Gigs Near You': 'حفلات بالقرب منك',\n    'How to Use': 'كيفية الاستخدام',\n    'venue': 'مكان',\n    'concert': 'حفلة موسيقية',\n    'music': 'موسيقى',\n    'band': 'فرقة',\n    'performance': 'عرض',\n    'rock': 'روك',\n    'jazz': 'جاز',\n    'electronic': 'إلكترونية',\n    'blues': 'بلوز',\n    'folk': 'شعبية',\n    'pop': 'بوب',\n    'Supporting local music': 'دعم الموسيقى المحلية',\n    'This information was sent to': 'تم إرسال هذه المعلومات إلى',\n    'away': 'بعيدا',\n    'Free': 'مجاني',\n    'Check venue': 'تحقق من المكان',\n    'View on map': 'عرض على الخريطة',\n    'QR codes link to venue locations': 'رموز QR تربط بمواقع الأماكن',\n    'Share this guide with friends': 'شارك هذا الدليل مع الأصدقاء',\n    'View on mobile to scan QR codes': 'اعرض على الهاتف المحمول لمسح رموز QR'\n  },\n  'vi': { // Vietnamese\n    'Melbourne': 'Melbourne',\n    'Gig Guide': 'Hướng dẫn buổi diễn',\n    'Live Music': 'Nhạc sống',\n    'Gigs Near You': 'Buổi diễn gần bạn',\n    'How to Use': 'Cách sử dụng',\n    'venue': 'địa điểm',\n    'concert': 'buổi hòa nhạc',\n    'music': 'âm nhạc',\n    'band': 'ban nhạc',\n    'performance': 'buổi biểu diễn',\n    'rock': 'rock',\n    'jazz': 'jazz',\n    'electronic': 'điện tử',\n    'blues': 'blues',\n    'folk': 'dân gian',\n    'pop': 'pop',\n    'Supporting local music': 'Hỗ trợ âm nhạc địa phương',\n    'This information was sent to': 'Thông tin này đã được gửi đến',\n    'away': 'cách xa',\n    'Free': 'Miễn phí',\n    'Check venue': 'Kiểm tra địa điểm',\n    'View on map': 'Xem trên bản đồ',\n    'QR codes link to venue locations': 'Mã QR liên kết đến vị trí của địa điểm',\n    'Share this guide with friends': 'Chia sẻ hướng dẫn này với bạn bè',\n    'View on mobile to scan QR codes': 'Xem trên điện thoại di động để quét mã QR'\n  },\n  'es': { // Spanish\n    'Melbourne': 'Melbourne',\n    'Gig Guide': 'Guía de conciertos',\n    'Live Music': 'Música en vivo',\n    'Gigs Near You': 'Conciertos cerca de ti',\n    'How to Use': 'Cómo usar',\n    'venue': 'local',\n    'concert': 'concierto',\n    'music': 'música',\n    'band': 'banda',\n    'performance': 'actuación',\n    'rock': 'rock',\n    'jazz': 'jazz',\n    'electronic': 'electrónica',\n    'blues': 'blues',\n    'folk': 'folk',\n    'pop': 'pop',\n    'Supporting local music': 'Apoyando la música local',\n    'This information was sent to': 'Esta información fue enviada a',\n    'away': 'de distancia',\n    'Free': 'Gratis',\n    'Check venue': 'Consultar local',\n    'View on map': 'Ver en el mapa',\n    'QR codes link to venue locations': 'Los códigos QR enlazan a las ubicaciones de los locales',\n    'Share this guide with friends': 'Comparte esta guía con amigos',\n    'View on mobile to scan QR codes': 'Ver en el móvil para escanear códigos QR'\n  },\n  'de': { // German\n    'Melbourne': 'Melbourne',\n    'Gig Guide': 'Konzertführer',\n    'Live Music': 'Live-Musik',\n    'Gigs Near You': 'Konzerte in deiner Nähe',\n    'How to Use': 'Anleitung',\n    'venue': 'Veranstaltungsort',\n    'concert': 'Konzert',\n    'music': 'Musik',\n    'band': 'Band',\n    'performance': 'Auftritt',\n    'rock': 'Rock',\n    'jazz': 'Jazz',\n    'electronic': 'Elektronisch',\n    'blues': 'Blues',\n    'folk': 'Folk',\n    'pop': 'Pop',\n    'Supporting local music': 'Unterstützung lokaler Musik',\n    'This information was sent to': 'Diese Information wurde gesendet an',\n    'away': 'entfernt',\n    'Free': 'Kostenlos',\n    'Check venue': 'Veranstaltungsort prüfen',\n    'View on map': 'Auf Karte anzeigen',\n    'QR codes link to venue locations': 'QR-Codes verlinken zu Veranstaltungsorten',\n    'Share this guide with friends': 'Teile diesen Guide mit Freunden',\n    'View on mobile to scan QR codes': 'Auf dem Mobilgerät ansehen, um QR-Codes zu scannen'\n  },\n  'hi': { // Hindi\n    'Melbourne': 'मेलबर्न',\n    'Gig Guide': 'संगीत कार्यक्रम गाइड',\n    'Live Music': 'लाइव संगीत',\n    'Gigs Near You': 'आपके पास संगीत कार्यक्रम',\n    'How to Use': 'उपयोग कैसे करें',\n    'venue': 'स्थान',\n    'concert': 'संगीत कार्यक्रम',\n    'music': 'संगीत',\n    'band': 'बैंड',\n    'performance': 'प्रदर्शन',\n    'rock': 'रॉक',\n    'jazz': 'जैज़',\n    'electronic': 'इलेक्ट्रॉनिक',\n    'blues': 'ब्लूज़',\n    'folk': 'लोक',\n    'pop': 'पॉप',\n    'Supporting local music': 'स्थानीय संगीत का समर्थन',\n    'This information was sent to': 'यह जानकारी भेजी गई',\n    'away': 'दूर',\n    'Free': 'मुफ्त',\n    'Check venue': 'स्थान की जांच करें',\n    'View on map': 'नक्शे पर देखें',\n    'QR codes link to venue locations': 'QR कोड स्थानों के लिंक हैं',\n    'Share this guide with friends': 'इस गाइड को दोस्तों के साथ शेयर करें',\n    'View on mobile to scan QR codes': 'QR कोड स्कैन करने के लिए मोबाइल पर देखें'\n  },\n  'ko': { // Korean\n    'Melbourne': '멜버른',\n    'Gig Guide': '공연 가이드',\n    'Live Music': '라이브 음악',\n    'Gigs Near You': '가까운 공연',\n    'How to Use': '사용 방법',\n    'venue': '장소',\n    'concert': '콘서트',\n    'music': '음악',\n    'band': '밴드',\n    'performance': '공연',\n    'rock': '록',\n    'jazz': '재즈',\n    'electronic': '일렉트로닉',\n    'blues': '블루스',\n    'folk': '포크',\n    'pop': '팝',\n    'Supporting local music': '지역 음악 지원',\n    'This information was sent to': '이 정보가 전송됨',\n    'away': '거리',\n    'Free': '무료',\n    'Check venue': '장소 확인',\n    'View on map': '지도에서 보기',\n    'QR codes link to venue locations': 'QR 코드는 장소 위치로 연결됩니다',\n    'Share this guide with friends': '이 가이드를 친구들과 공유하세요',\n    'View on mobile to scan QR codes': 'QR 코드를 스캔하려면 모바일에서 보세요'\n  }\n};\n\n/**\n * Translate a string using our dictionary\n * @param {string} text - Text to translate\n * @param {string} targetLang - Target language code\n * @returns {string} - Translated text\n */\nconst translateString = (text, targetLang) => {\n  if (targetLang === 'en') return text;\n  \n  const dictionary = translationDictionaries[targetLang] || {};\n  if (Object.keys(dictionary).length === 0) {\n    return text; // No dictionary available for this language\n  }\n  \n  // Sort dictionary keys by length (longest first) to avoid partial replacements\n  const sortedKeys = Object.keys(dictionary).sort((a, b) => b.length - a.length);\n  \n  let translatedText = text;\n  for (const key of sortedKeys) {\n    // Use regex with word boundaries to avoid partial word matches\n    const regex = new RegExp(`\\\\b${key}\\\\b`, 'gi');\n    translatedText = translatedText.replace(regex, dictionary[key]);\n  }\n  \n  return translatedText;\n};\n\n/**\n * Extract sections from text for more precise translation\n * @param {string} text - Full text content\n * @returns {Object} - Extracted sections\n */\nconst extractSections = (text) => {\n  // Pattern matching for specific sections\n  const headerMatch = text.match(/===(.*?)===\\n/);\n  const descriptionMatch = text.match(/===.*?===\\n\\n(.*?)\\n\\n/s);\n  const gigsNearYouMatch = text.match(/--- GIGS NEAR YOU ---\\n\\n(.*?)(?=\\n\\n===|\\n\\n---|\\n*$)/s);\n  const howToUseMatch = text.match(/=== HOW TO USE ===\\n(.*?)(?=\\n---|\\n*$)/s);\n  const footerMatch = text.match(/---\\n(.*?)$/s);\n  \n  // Extract all gig items individually\n  const gigMatches = [];\n  const gigPattern = /▶ .*?(?=▶|\\n\\n===|\\n\\n---|\\n*$)/gs;\n  let match;\n  while ((match = gigPattern.exec(text)) !== null) {\n    gigMatches.push(match[0]);\n  }\n  \n  return {\n    header: headerMatch ? headerMatch[0] : '',\n    description: descriptionMatch ? descriptionMatch[1] : '',\n    gigsNearYouHeader: '--- GIGS NEAR YOU ---\\n\\n',\n    gigs: gigMatches,\n    howToUse: howToUseMatch ? howToUseMatch[0] : '',\n    footer: footerMatch ? footerMatch[0] : ''\n  };\n};\n\n/**\n * Translate text using our enhanced client-side approach\n * @param {string} text - Text to translate\n * @param {string} targetLanguage - Target language code\n * @returns {Promise<string>} - Translated text (Promise for API compatibility)\n */\nexport const translateWithBrowserLLM = async (text, targetLanguage) => {\n  // Don't translate English\n  if (targetLanguage === 'en') {\n    return text;\n  }\n  \n  // Check cache first\n  const cachedResult = getCachedTranslation(text, 'en', targetLanguage);\n  if (cachedResult) {\n    console.log('Using cached translation');\n    return cachedResult;\n  }\n  \n  try {\n    console.log(`Translating to ${targetLanguage}...`);\n    \n    // Extract sections for more precise translation\n    const sections = extractSections(text);\n    \n    // Translate each section individually\n    const translatedHeader = translateString(sections.header, targetLanguage);\n    const translatedDescription = translateString(sections.description, targetLanguage);\n    const translatedGigsHeader = translateString(sections.gigsNearYouHeader, targetLanguage);\n    \n    // Translate each gig individually\n    const translatedGigs = sections.gigs.map(gig => {\n      // Split gig into lines\n      const lines = gig.split('\\n');\n      // Translate each line individually, but preserve URLs and QR codes\n      const translatedLines = lines.map(line => {\n        // Don't translate lines containing URLs or QR codes\n        if (line.includes('http') || line.includes('QR:')) {\n          return line;\n        }\n        return translateString(line, targetLanguage);\n      });\n      return translatedLines.join('\\n');\n    });\n    \n    const translatedHowToUse = translateString(sections.howToUse, targetLanguage);\n    const translatedFooter = translateString(sections.footer, targetLanguage);\n    \n    // Reassemble the content\n    let translatedContent = translatedHeader + '\\n\\n';\n    translatedContent += translatedDescription + '\\n\\n';\n    translatedContent += translatedGigsHeader;\n    translatedContent += translatedGigs.join('\\n\\n');\n    translatedContent += '\\n\\n' + translatedHowToUse;\n    translatedContent += translatedFooter;\n    \n    // Cache the result\n    setCachedTranslation(text, 'en', targetLanguage, translatedContent);\n    \n    return translatedContent;\n  } catch (error) {\n    console.error(`Translation to ${targetLanguage} failed:`, error);\n    // Fall back to basic translation\n    return `[${targetLanguage}]\\n\\n${text}`;\n  }\n};"],"names":["translationCache","Map","hashText","text","hash","i","length","charCodeAt","toString","translationDictionaries","translateString","targetLang","dictionary","Object","keys","sortedKeys","sort","a","b","translatedText","key","regex","RegExp","replace","translateWithBrowserLLM","async","targetLanguage","cachedResult","getCachedTranslation","sourceLang","get","console","log","sections","headerMatch","match","descriptionMatch","howToUseMatch","footerMatch","gigMatches","gigPattern","exec","push","header","description","gigsNearYouHeader","gigs","howToUse","footer","extractSections","translatedHeader","translatedDescription","translatedGigsHeader","translatedGigs","map","gig","split","line","includes","join","translatedHowToUse","translatedFooter","translatedContent","setCachedTranslation","set","size","error"],"sourceRoot":""}